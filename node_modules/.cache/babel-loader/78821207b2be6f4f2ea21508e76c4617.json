{"ast":null,"code":"var _jsxFileName = \"/Users/volpito/Desktop/projets/PALO_IT_test/palo_it_mrigot/app/javascript/components/Exo4/DeleteButton.js\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React from 'react';\n\nfunction DeleteButton(id) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isFetching = _useState2[0],\n      setIsFetching = _useState2[1];\n\n  function handleDelete(id) {\n    fetch(\"/products/\".concat(id.id), {\n      method: 'delete',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      console.log(data);\n      setIsFetching(true);\n    })[\"catch\"](function () {\n      console.log(\"error fetch destroy\");\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"m-0\",\n    onClick: function onClick() {\n      return handleDelete(id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"h-6 cursor-pointer\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }))));\n}\n\nexport default DeleteButton;","map":{"version":3,"sources":["/Users/volpito/Desktop/projets/PALO_IT_test/palo_it_mrigot/app/javascript/components/Exo4/DeleteButton.js"],"names":["React","DeleteButton","id","useState","isFetching","setIsFetching","handleDelete","fetch","method","headers","then","res","json","data","console","log"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,SAASC,YAAT,CAAsBC,EAAtB,EAA0B;AAExB,kBAAoCC,QAAQ,CAAC,KAAD,CAA5C;AAAA;AAAA,MAAOC,UAAP;AAAA,MAAmBC,aAAnB;;AAEA,WAASC,YAAT,CAAsBJ,EAAtB,EAA0B;AACtBK,IAAAA,KAAK,qBAAcL,EAAE,CAACA,EAAjB,GAAuB;AAC1BM,MAAAA,MAAM,EAAE,QADkB;AAE1BC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAFiB,KAAvB,CAAL,CAMCC,IAND,CAMM,UAACC,GAAD,EAAS;AACb,aAAOA,GAAG,CAACC,IAAJ,EAAP;AACD,KARD,EASCF,IATD,CASM,UAACG,IAAD,EAAU;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAR,MAAAA,aAAa,CAAC,IAAD,CAAb;AACD,KAZD,WAaO,YAAY;AACjBS,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACD,KAfD;AAgBH;;AAGD,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,SAAS,EAAC,KAAlB;AACA,IAAA,OAAO,EAAE;AAAA,aAAMT,YAAY,CAACJ,EAAD,CAAlB;AAAA,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGA;AAAK,IAAA,KAAK,EAAC,4BAAX;AAAwC,IAAA,SAAS,EAAC,oBAAlD;AAAuE,IAAA,IAAI,EAAC,MAA5E;AAAmF,IAAA,OAAO,EAAC,WAA3F;AAAuG,IAAA,MAAM,EAAC,cAA9G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,aAAa,EAAC,OAApB;AAA4B,IAAA,cAAc,EAAC,OAA3C;AAAmD,IAAA,WAAW,EAAE,CAAhE;AAAmE,IAAA,CAAC,EAAC,8HAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAHA,CADF,CADF;AAWD;;AAED,eAAeD,YAAf","sourcesContent":["import React from 'react'\n\nfunction DeleteButton(id) {\n\n  const [isFetching, setIsFetching] = useState(false);\n\n  function handleDelete(id) {\n      fetch(`/products/${id.id}`, {\n        method: 'delete',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      })\n      .then((res) => {\n        return res.json()\n      })\n      .then((data) => {\n        console.log(data);\n        setIsFetching(true)\n      })\n      .catch(function () {\n        console.log(\"error fetch destroy\");\n      });\n  }\n  \n\n  return (\n    <div>\n      <button className='m-0'\n      onClick={() => handleDelete(id)}\n      >\n      <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 cursor-pointer\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" >\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n      </svg>\n    </button>\n    </div>\n  )\n}\n\nexport default DeleteButton\n"]},"metadata":{},"sourceType":"module"}