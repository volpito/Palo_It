{"ast":null,"code":"import _defineProperty from \"/Users/volpito/Desktop/projets/PALO_IT_test/palo_it_mrigot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/volpito/Desktop/projets/PALO_IT_test/palo_it_mrigot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/volpito/Desktop/projets/PALO_IT_test/palo_it_mrigot/app/javascript/components/Exo3/FetchCity.js\";\nimport React, { useEffect, useState } from 'react';\nimport EditButton from '../Exo4/EditButton';\nimport DeleteButton from '../Exo4/DeleteButton';\nimport AddButton from '../Exo4/AddButton'; //secondary fetch used to only display the items listed in the city inputed by user\n//both displays are almost identical\n\nfunction FetchCity(_ref) {\n  var _React$createElement,\n      _React$createElement2,\n      _React$createElement3,\n      _React$createElement4,\n      _React$createElement5,\n      _React$createElement6,\n      _React$createElement7,\n      _React$createElement8,\n      _React$createElement9,\n      _React$createElement10,\n      _React$createElement11,\n      _React$createElement12,\n      _this = this,\n      _React$createElement25,\n      _React$createElement26,\n      _React$createElement27,\n      _React$createElement28,\n      _React$createElement29,\n      _React$createElement30,\n      _React$createElement31,\n      _React$createElement32,\n      _React$createElement33,\n      _React$createElement34,\n      _React$createElement35,\n      _React$createElement36,\n      _React$createElement37;\n\n  var id = _ref.id;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      products = _useState2[0],\n      setProducts = _useState2[1];\n\n  useEffect(function () {\n    fetch(\"/products/city/\".concat(id), {\n      method: 'get'\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      setProducts(data.products);\n    })[\"catch\"](function () {\n      console.log(\"error fetch city\");\n    });\n  }, [id]);\n  return /*#__PURE__*/React.createElement(\"div\", (_React$createElement37 = {\n    __self: this\n  }, _defineProperty(_React$createElement37, \"__self\", this), _defineProperty(_React$createElement37, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }), _React$createElement37), /*#__PURE__*/React.createElement(\"h1\", (_React$createElement = {\n    className: \"my-6\",\n    __self: this\n  }, _defineProperty(_React$createElement, \"__self\", this), _defineProperty(_React$createElement, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 7\n  }), _React$createElement), \"Here are the searched items : \"), /*#__PURE__*/React.createElement(\"table\", (_React$createElement36 = {\n    className: \"table-fixed\",\n    __self: this\n  }, _defineProperty(_React$createElement36, \"__self\", this), _defineProperty(_React$createElement36, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 7\n  }), _React$createElement36), /*#__PURE__*/React.createElement(\"thead\", (_React$createElement12 = {\n    __self: this\n  }, _defineProperty(_React$createElement12, \"__self\", this), _defineProperty(_React$createElement12, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }), _React$createElement12), /*#__PURE__*/React.createElement(\"tr\", (_React$createElement11 = {\n    __self: this\n  }, _defineProperty(_React$createElement11, \"__self\", this), _defineProperty(_React$createElement11, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 11\n  }), _React$createElement11), /*#__PURE__*/React.createElement(\"th\", (_React$createElement2 = {\n    className: \"w-1/12\",\n    __self: this\n  }, _defineProperty(_React$createElement2, \"__self\", this), _defineProperty(_React$createElement2, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 13\n  }), _React$createElement2), \" Id     \"), /*#__PURE__*/React.createElement(\"th\", (_React$createElement3 = {\n    className: \"w-1/12\",\n    __self: this\n  }, _defineProperty(_React$createElement3, \"__self\", this), _defineProperty(_React$createElement3, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 13\n  }), _React$createElement3), \" CityId \"), /*#__PURE__*/React.createElement(\"th\", (_React$createElement4 = {\n    className: \"w-1/12\",\n    __self: this\n  }, _defineProperty(_React$createElement4, \"__self\", this), _defineProperty(_React$createElement4, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 13\n  }), _React$createElement4), \" Ref    \"), /*#__PURE__*/React.createElement(\"th\", (_React$createElement5 = {\n    className: \"w-1/12\",\n    __self: this\n  }, _defineProperty(_React$createElement5, \"__self\", this), _defineProperty(_React$createElement5, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 13\n  }), _React$createElement5), \" Name   \"), /*#__PURE__*/React.createElement(\"th\", (_React$createElement6 = {\n    className: \"w-1/12\",\n    __self: this\n  }, _defineProperty(_React$createElement6, \"__self\", this), _defineProperty(_React$createElement6, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 13\n  }), _React$createElement6), \" City   \"), /*#__PURE__*/React.createElement(\"th\", (_React$createElement7 = {\n    className: \"w-1/12\",\n    __self: this\n  }, _defineProperty(_React$createElement7, \"__self\", this), _defineProperty(_React$createElement7, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 13\n  }), _React$createElement7), \" Price  \"), /*#__PURE__*/React.createElement(\"th\", (_React$createElement8 = {\n    className: \"w-1/12\",\n    __self: this\n  }, _defineProperty(_React$createElement8, \"__self\", this), _defineProperty(_React$createElement8, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 13\n  }), _React$createElement8), \"        \"), /*#__PURE__*/React.createElement(\"th\", (_React$createElement9 = {\n    className: \"w-1/12\",\n    __self: this\n  }, _defineProperty(_React$createElement9, \"__self\", this), _defineProperty(_React$createElement9, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 13\n  }), _React$createElement9), \"        \"), /*#__PURE__*/React.createElement(\"th\", (_React$createElement10 = {\n    className: \"w-1/12\",\n    __self: this\n  }, _defineProperty(_React$createElement10, \"__self\", this), _defineProperty(_React$createElement10, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 13\n  }), _React$createElement10), \"        \"))), products.map(function (a, i) {\n    var _React$createElement13, _React$createElement14, _React$createElement15, _React$createElement16, _React$createElement17, _React$createElement18, _React$createElement19, _React$createElement20, _React$createElement21, _React$createElement22, _React$createElement23, _React$createElement24;\n\n    return /*#__PURE__*/React.createElement(\"tbody\", (_React$createElement24 = {\n      key: i,\n      __self: _this\n    }, _defineProperty(_React$createElement24, \"__self\", _this), _defineProperty(_React$createElement24, \"__source\", {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }), _React$createElement24), /*#__PURE__*/React.createElement(\"tr\", (_React$createElement23 = {\n      __self: _this\n    }, _defineProperty(_React$createElement23, \"__self\", _this), _defineProperty(_React$createElement23, \"__source\", {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }), _React$createElement23), /*#__PURE__*/React.createElement(\"td\", (_React$createElement13 = {\n      className: \"text-center\",\n      __self: _this\n    }, _defineProperty(_React$createElement13, \"__self\", _this), _defineProperty(_React$createElement13, \"__source\", {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }), _React$createElement13), a.id), /*#__PURE__*/React.createElement(\"td\", (_React$createElement14 = {\n      className: \"text-center\",\n      __self: _this\n    }, _defineProperty(_React$createElement14, \"__self\", _this), _defineProperty(_React$createElement14, \"__source\", {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }), _React$createElement14), a.city_id), /*#__PURE__*/React.createElement(\"td\", (_React$createElement15 = {\n      className: \"text-center\",\n      __self: _this\n    }, _defineProperty(_React$createElement15, \"__self\", _this), _defineProperty(_React$createElement15, \"__source\", {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }), _React$createElement15), a.prodRef), /*#__PURE__*/React.createElement(\"td\", (_React$createElement16 = {\n      className: \"text-center\",\n      __self: _this\n    }, _defineProperty(_React$createElement16, \"__self\", _this), _defineProperty(_React$createElement16, \"__source\", {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }), _React$createElement16), a.prodName), /*#__PURE__*/React.createElement(\"td\", (_React$createElement17 = {\n      className: \"text-center\",\n      __self: _this\n    }, _defineProperty(_React$createElement17, \"__self\", _this), _defineProperty(_React$createElement17, \"__source\", {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }), _React$createElement17), a.prodCity), /*#__PURE__*/React.createElement(\"td\", (_React$createElement18 = {\n      className: \"text-center\",\n      __self: _this\n    }, _defineProperty(_React$createElement18, \"__self\", _this), _defineProperty(_React$createElement18, \"__source\", {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }), _React$createElement18), a.prodPrice), /*#__PURE__*/React.createElement(\"td\", (_React$createElement20 = {\n      className: \"text-center\",\n      __self: _this\n    }, _defineProperty(_React$createElement20, \"__self\", _this), _defineProperty(_React$createElement20, \"__source\", {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }), _React$createElement20), /*#__PURE__*/React.createElement(EditButton, (_React$createElement19 = {\n      id: a.id,\n      __self: _this\n    }, _defineProperty(_React$createElement19, \"__self\", _this), _defineProperty(_React$createElement19, \"__source\", {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 41\n    }), _React$createElement19))), /*#__PURE__*/React.createElement(\"td\", (_React$createElement22 = {\n      className: \"\",\n      __self: _this\n    }, _defineProperty(_React$createElement22, \"__self\", _this), _defineProperty(_React$createElement22, \"__source\", {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }), _React$createElement22), /*#__PURE__*/React.createElement(DeleteButton, (_React$createElement21 = {\n      id: a.id,\n      __self: _this\n    }, _defineProperty(_React$createElement21, \"__self\", _this), _defineProperty(_React$createElement21, \"__source\", {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 30\n    }), _React$createElement21)))));\n  }), /*#__PURE__*/React.createElement(\"tfoot\", (_React$createElement35 = {\n    __self: this\n  }, _defineProperty(_React$createElement35, \"__self\", this), _defineProperty(_React$createElement35, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }), _React$createElement35), /*#__PURE__*/React.createElement(\"tr\", (_React$createElement34 = {\n    __self: this\n  }, _defineProperty(_React$createElement34, \"__self\", this), _defineProperty(_React$createElement34, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }), _React$createElement34), /*#__PURE__*/React.createElement(\"th\", (_React$createElement25 = {\n    className: \"w-1/12\",\n    __self: this\n  }, _defineProperty(_React$createElement25, \"__self\", this), _defineProperty(_React$createElement25, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 11\n  }), _React$createElement25)), /*#__PURE__*/React.createElement(\"th\", (_React$createElement26 = {\n    className: \"w-1/12\",\n    __self: this\n  }, _defineProperty(_React$createElement26, \"__self\", this), _defineProperty(_React$createElement26, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 11\n  }), _React$createElement26)), /*#__PURE__*/React.createElement(\"th\", (_React$createElement27 = {\n    className: \"w-1/12\",\n    __self: this\n  }, _defineProperty(_React$createElement27, \"__self\", this), _defineProperty(_React$createElement27, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 11\n  }), _React$createElement27)), /*#__PURE__*/React.createElement(\"th\", (_React$createElement28 = {\n    className: \"w-1/12\",\n    __self: this\n  }, _defineProperty(_React$createElement28, \"__self\", this), _defineProperty(_React$createElement28, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 11\n  }), _React$createElement28)), /*#__PURE__*/React.createElement(\"th\", (_React$createElement29 = {\n    className: \"w-1/12\",\n    __self: this\n  }, _defineProperty(_React$createElement29, \"__self\", this), _defineProperty(_React$createElement29, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 11\n  }), _React$createElement29)), /*#__PURE__*/React.createElement(\"th\", (_React$createElement30 = {\n    className: \"w-1/12\",\n    __self: this\n  }, _defineProperty(_React$createElement30, \"__self\", this), _defineProperty(_React$createElement30, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 11\n  }), _React$createElement30)), /*#__PURE__*/React.createElement(\"th\", (_React$createElement31 = {\n    className: \"w-1/12\",\n    __self: this\n  }, _defineProperty(_React$createElement31, \"__self\", this), _defineProperty(_React$createElement31, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 11\n  }), _React$createElement31)), /*#__PURE__*/React.createElement(\"th\", (_React$createElement33 = {\n    className: \"w-1/12\",\n    __self: this\n  }, _defineProperty(_React$createElement33, \"__self\", this), _defineProperty(_React$createElement33, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 11\n  }), _React$createElement33), /*#__PURE__*/React.createElement(AddButton, (_React$createElement32 = {\n    __self: this\n  }, _defineProperty(_React$createElement32, \"__self\", this), _defineProperty(_React$createElement32, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 34\n  }), _React$createElement32)))))));\n}\n\nexport default FetchCity;","map":{"version":3,"sources":["/Users/volpito/Desktop/projets/PALO_IT_test/palo_it_mrigot/app/javascript/components/Exo3/FetchCity.js"],"names":["React","useEffect","useState","EditButton","DeleteButton","AddButton","FetchCity","id","products","setProducts","fetch","method","then","res","json","data","console","log","map","a","i","city_id","prodRef","prodName","prodCity","prodPrice"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport EditButton from '../Exo4/EditButton';\nimport DeleteButton from '../Exo4/DeleteButton';\nimport AddButton from '../Exo4/AddButton';\n\n//secondary fetch used to only display the items listed in the city inputed by user\n//both displays are almost identical\nfunction FetchCity({id}) {\n  const [products, setProducts] = useState([]);\n\n  useEffect(() => {\n    fetch(`/products/city/${id}`, {\n      method: 'get',\n    })    \n    .then((res) => {\n      return res.json()\n    })\n    .then((data) => {\n      setProducts(data.products);\n    })\n    .catch(function () {\n      console.log(\"error fetch city\");\n    });\n\n  }, [id]);\n\n  return (\n    <div>\n      <h1 className=\"my-6\">Here are the searched items : </h1>\n      <table className=\"table-fixed\">\n        <thead>\n          <tr>\n            <th className=\"w-1/12\"> Id     </th>\n            <th className=\"w-1/12\"> CityId </th>\n            <th className=\"w-1/12\"> Ref    </th>\n            <th className=\"w-1/12\"> Name   </th>\n            <th className=\"w-1/12\"> City   </th>\n            <th className=\"w-1/12\"> Price  </th>\n            <th className=\"w-1/12\">        </th>\n            <th className=\"w-1/12\">        </th>\n            <th className=\"w-1/12\">        </th>\n          </tr>\n        </thead>\n      {products.map((a, i) => {\n        return (\n        <tbody key={i}>\n          <tr >\n            <td className=\"text-center\">{a.id}</td>\n            <td className=\"text-center\">{a.city_id}</td>\n            <td className=\"text-center\">{a.prodRef}</td>\n            <td className=\"text-center\">{a.prodName}</td>\n            <td className=\"text-center\">{a.prodCity}</td>\n            <td className=\"text-center\">{a.prodPrice}</td>\n            <td className=\"text-center\"><EditButton id={a.id}/></td>\n            <td className=\"\"><DeleteButton id={a.id}/></td>\n          </tr>\n        </tbody>\n        )\n        })}\n        <tfoot>\n        <tr>\n          <th className=\"w-1/12\"></th>\n          <th className=\"w-1/12\"></th>\n          <th className=\"w-1/12\"></th>\n          <th className=\"w-1/12\"></th>\n          <th className=\"w-1/12\"></th>\n          <th className=\"w-1/12\"></th>\n          <th className=\"w-1/12\"></th>\n          <th className=\"w-1/12\"><AddButton/></th>\n        </tr>\n        </tfoot>\n      </table>\n    </div>\n  )\n}\n\nexport default FetchCity\n"]},"metadata":{},"sourceType":"module"}